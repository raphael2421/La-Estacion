<%- include('template-parts/head') %>
<script type='application/ld+json'>
[ 
   {
      "@context": "http://schema.org/",
      "@type": "WebSite",
      "name": "La estación hotel & residence",
      "alternateName": "Departamentos a 5 minutos del centro de San Miguel de Allende.",
      "url": "https://www.laestacionresidence.mx/"
   },

   {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": "1",
            "name": "La estación residence",
            "item": "https://www.laestacionresidence.mx/"
        },
        {
            "@type": "ListItem",
            "position": "2",
            "name": "departamentos",
            "item": "https://www.laestacionresidence.mx/departamentos"
        },
        {
            "@type": "ListItem",
            "position": "3",
            "name": "galería",
            "item": "https://www.laestacionresidence.mx/vive-la-estacion"
        },
        {
            "@type": "ListItem",
            "position": "4",
            "name": "beneficios",
            "item": "https://www.laestacionresidence.mx/beneficios"
        },
        {
            "@type": "ListItem",
            "position": "5",
            "name": "ubicación",
            "item": "https://www.laestacionresidence.mx/ubicacion"
        },
        {
            "@type": "ListItem",
            "position": "6",
            "name": "quienes somos",
            "item": "https://www.laestacionresidence.mx/quienes-somos"
        }
    ]
   }
]
</script>
<%- include('template-parts/header') %>
<style>
   .slider_container{position:relative;height:calc(100vh - 44px)}.slide{position:relative}.slide_img{height:calc(100vh - 44px);height:-webkit-calc(100vh - 44px);height:-o-calc(100vh - 44px);width:100%;object-fit:cover;text-align:center}.slide_header{position:absolute;height:145px;width:100%;background:rgba(0,0,0,.3);background:linear-gradient(180deg,rgba(0,0,0,.499019676229867) 60%,rgba(0,0,0,0) 100%);visibility:hidden}.slide_header>p{font-family:'Brygada 1918',serif;font-size:40px;color:#fff;text-align:center;text-transform:uppercase;letter-spacing:5px}.chevron_left{position:absolute;height:60px;width:30px;top:-webkit-calc(50% - 60px);top:calc(50% - 60px);left:26px;z-index:30;transform:rotate(180deg);cursor:pointer}.chevron_right{position:absolute;height:60px;width:30px;top:-webkit-calc(50% - 60px);top:calc(50% - 60px);right:26px;z-index:30;cursor:pointer}.slides_container{display:grid;transition:.7s}.contacto_container{display:grid;grid-template-rows:1fr 240px 1fr}.contacto_top{display:grid;height:207px;justify-content:center;align-content:center;grid-template-rows:69px 40px;grid-gap:23px;gap:23px}.contacto_top>p{text-transform:uppercase;font-family:'Encode Sans',sans-serif;font-size:30.5px;font-weight:100;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:3.66px;text-align:center}.contacto_icons{text-align:center;position:relative}.contacto_icons>a>img{margin:0 13px;height:40px}.contacto_banner{display:grid;background-color:var(--Primary);justify-content:center;justify-items:center;align-content:center}.contacto_banner>h1{margin:0;padding:0}.contacto_banner>h2{margin:0;padding:0;font-family:'Encode Sans',sans-serif;font-size:16px;font-weight:100;font-stretch:normal;font-style:normal;line-height:1.3;letter-spacing:3.66px;text-align:center;color:#fff}.contacto_bottom{display:grid;justify-content:center;align-content:center;height:274px}.contacto_bottom>img{width:54px;height:69px;margin:0 auto}.contacto_bottom>p{font-family:'Encode Sans',sans-serif;font-size:23px;font-weight:100;font-stretch:normal;font-style:normal;line-height:1.28;letter-spacing:.92px;text-align:center}.contacto_bottom>h1{font-family:'Encode Sans',sans-serif;font-size:25px;font-weight:500;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:4.8px;text-align:center}.forma_container{margin:0 auto}.contacto_forma{display:grid;margin:50px auto;box-sizing:border-box;padding:40px 20px;gap:20px;max-width:480px;border:1px solid rgba(0,0,0,.2);border-radius:8px}input,select{font-family:'Encode Sans',sans-serif;font-size:small;border:1px solid rgba(0,0,0,.3);border-radius:5px;padding:5px;color:var(--FontDark)}#fc_btn_enviar{width:100%;background-color:var(--Secondary);color:#fff;text-transform:uppercase;border:1px solid var(--Secondary);cursor:pointer;}.forma_msj{width:100%;text-align:center;color:var(--Secondary);font-size: xx-large;}.legales_container{font-family:'Encode Sans',sans-serif;background-color:var(--FontDark);height:320px;width:100%}.legales_content{width:100%;color:var(--FontLight);padding:11px 22px;font-size:18px;line-height:1.5;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:justify;width:auto;font-weight:200;text-align:center;max-width:960px;margin:0 auto}.legales_content>a{text-decoration:none;color:var(--FontLight);font-weight:700}.legales_subcontent{background-color:var(--FontDark);width:100%;color:var(--FontLight);padding:11px 22px;font-size:15px;line-height:1.27;font-stretch:normal;font-style:normal;letter-spacing:normal;text-align:justify;width:auto;font-weight:200;text-align:center;max-width:960px;margin:0 auto}@media screen and (min-width:600px){.forma_container{margin:0}}@media screen and (min-width:1200px){.contacto_banner>h2{font-size:24px}.forma_container{margin:0}.slide_header{height:200px}.slide_header>p{font-size:50px}.chevron_left{left:150px}.chevron_right{right:150px}.legales_container{height:200px}.slider_container{position:relative;height:calc(100vh - 60px)}.slide_img{height:calc(100vh - 60px)}}
</style>
<!-- <link rel="stylesheet" href="../css/inicio.css"> -->

<main class="container">
 <div class="slider_container">
   <img class="chevron_left" src="../media/chevron_right.svg" alt="">
   <img class="chevron_right" src="../media/chevron_right.svg" alt="">
   <div class="slides_container" >
      <link rel="preload" as="image" href="../../media/slider-inicio/video.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/video-XL.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/departamento.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/departamento-XL.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/experiencias.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/experiencias-XL.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/rooftop.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/rooftop-XL.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/alberca.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/alberca-XL.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/bar-XL.webp">
      <link rel="preload" as="image" href="../../media/slider-inicio/salon-de-juegos-XL.webp">
   <% data.forEach((x, i, a)=>{ %>
         <div class="slide">
            <div class="slide_header">
               <p class="slide_header_txt"> </p>
            </div>
            <picture>
               <source media="(max-width:1199px)" srcset="../media/slider-inicio/<%= x.small %>">
               <source media="(min-width:1200px)" srcset="../media/slider-inicio/<%= x.large %>">
               <img loading="<%= i===0 ?'eager': 'lazy' %>" class="slide_img swipe" data-index="<%= i %>" src="../media/slider-inicio/<%= x.small %>"
                  alt="<%= x.title %>">
            </picture>
         
         </div>
      <!-- if -->
      <% if (i===0) { %>
            <!-- <div class="slide">
               <div class="slide_header">
                  <p class="slide_header_txt"> </p>
               </div>
               <picture>
                  <source media="(max-width:1199px)" srcset="../media/slider-inicio/<%= x.small %>">
                  <source media="(min-width:1200px)" srcset="../media/slider-inicio/<%= x.large %>">
                  <img loading="lazy" class="slide_img swipe" data-index="<%= i %>" src="../media/slider-inicio/<%= x.small %>"
                     alt="<%= x.title %>">
               </picture>
            
            </div> -->
         <% } else{%>
            <!-- <div class="slide">
               <div class="slide_header">
                  <p class="slide_header_txt"> </p>
               </div>
               <picture>
                  <source media="(max-width:1199px)" srcset="../media/slider-inicio/<%= x.small %>">
                  <source media="(min-width:1200px)" srcset="../media/slider-inicio/<%= x.large %>">
                  <img loading="lazy" class="slide_img swipe" data-index="<%= i %>" src="../media/slider-inicio/<%= x.small %>" alt="<%= x.title %>">
               </picture>

            </div> -->
            <% } %>
               <!-- fin if else -->
      <%})%>
   </div>
    <!---->
    
 </div> <!--slider_container-->
 <div class="contacto_container">
    <div class="contacto_top">
       <p>síguenos en</p>
       <div class="contacto_icons">
        <a href="https://www.instagram.com/laestacionresidence" target="_blank" rel="noopener"><img src="../media/instagram-icon.webp" alt="" height="40" width="40" /></a>
        <a href="https://www.facebook.com/LaEstacionResidence" target="_blank" rel="noopener"><img src="../media/facebook-icon.webp" alt="" height="40" width="18" /></a>
       </div>
    </div>
    <div class="contacto_banner">
      <h1 title="La Estación Hotel & Residence, venta de ">
         <img src="../media/logo-la-estacion-hotel-residences-departamentos-venta-baratos-lujo-economicos-inversion-plusvalia.svg" alt="La Estación Hotel & Residences, departamentos en venta" width="240px" height="79">
      </h1>
      <h2><strong>Departamentos a 5  minutos del centro de San  Miguel de Allende.</strong> <br>Amenidades: alberca, rooftop, sala de juego y servicio de Hotel.</h2>
    </div>
    <div id="contacto" class="contacto_bottom">
       <img src="../media/ubicacion-icon.webp" width="54" height="69" alt="dirección-icono-maps-como-llegar">
       <p>
         Calzada de la Estación 90, <br>
         Zona Centro, 37700 <br>
         San Miguel de Allende, Gto.
      </p>
       <h1>
         +52 477 578 2748
       </h1>
    </div>
    <div class="forma_container">
       <form id="contacto_forma" class="contacto_forma" action="/" method="post">
         <input id="fc_refID" type="hidden" name="refID" value=""/>
         <input id="fc_refURL" type="hidden" name="refURL" value=""/>
         <input id="fc_lastURL" type="hidden" name="lastURL" value="<%= lastURL %>"/>
         <input id="fc_nombre" type="text" name="nombre" placeholder="Nombre" required />
         <input id="fc_telefono" type="number" name="telefono" placeholder="Teléfono" />
         <input id="fc_email" type="email" name="correo" placeholder="Email" required validate/>
         <select name="pref_contacto" id="fc_via_comunicacion">
            <option selected="selected" disabled>¿Cómo prefiere ser contactado?</option>
            <option value="Llamada">Llamada</option>
            <option value="Whatsapp">Whatsapp</option>
            <option value="Telegram">Telegram</option>
            <option value="Email">Email</option>
         </select>
         <select name="horario_atencion" id="fc_horario">
            <option selected="selected" disabled>Horarios de atención (México Centro)</option>
            <option value="9am - 10am">9am - 10am</option>
            <option value="10am - 11am">10am - 11am</option>
            <option value="11am - 12pm">11am - 12pm</option>
            <option value="12pm - 1pm">12pm - 1pm</option>
            <option value="1pm - 2pm">1pm - 2pm</option>
            <option value="2pm - 3pm">2pm - 3pm</option>
            <option value="3pm - 4pm">3pm - 4pm</option>
            <option value="4pm - 5pm">4pm - 5pm</option>
            <option value="5pm - 6pm">5pm - 6pm</option>
            <option value="6pm - 7pm">6pm - 7pm</option>
            <option value="7pm - 8pm">7pm - 8pm</option>
            <option value="8pm - 9pm">8pm - 9pm</option>
         </select>
         <div>
            <input id="fc_btn_enviar" type="submit" value="enviar">
         </div>
         <div class="forma_msj">
            <%= locals.msjForma  ? `${msjForma}` : '' %>
         </div>

       </form>
    </div>
 </div> <!--contacto_container-->
 <div class="legales_container">
      <p class="legales_content">
         © LA ESTACIÓN. <br>
         TODOS LOS DERECHOS RESERVADOS
         DERECHOS RESERVADOS | <br>
          <!-- <a href="/aviso-de-privacidad">POLÍTICA DE <span>PRIVACIDAD</a> -->
         </span>
      </p>
      <p class="legales_subcontent">
         El vendedor de La Estación se reserva el derecho de realizar modificaciones en los planos, diseños exteriores,
         precios,
         materiales, especificaciones,
         acabados y características estándar en cualquier momento y sin previo aviso. Las fotografías, las representaciones
         son
         ilustrativos y conceptuales.
      </p>
 </div>
</main>

<%- include('template-parts/footer') %>

<div class="blackBox <%= confirmation == true ? '' : 'display_none' %>">
   
   <div class="confirmacion">
      <h3>Gracias! <br>
      Por confirmar tu asistencia</h3>
   <img src="../media/logo-la-estacion-hotel-residences-departamentos-venta-baratos-lujo-economicos-inversion-plusvalia.svg"
      alt="La Estación Hotel &amp; Residences, departamentos en venta" width="240px" height="79" class="confirmar_logo">
      <form action="#">
         <!-- <input type="text" name="correo_confirmacion" placeholder="nombre@gmail.com" id="mail_confirmado"> -->
         <br>
         <input type="hidden" id="confirmacion_refID" name="refCode">
         <br>
         <input type="submit" value="confirmar" id="btn_confirmar" class="">
      </form>
   </div>

   <img class="gallery_close" src="../media/close_btn.svg" alt="">
</div>
<!-- <script src="../js/inicio.js"></script> -->
<script>
   const chevron_left = document.querySelector(".chevron_left"), chevron_right = document.querySelector(".chevron_right"), slides_container = document.querySelector(".slides_container"), slide = document.querySelector(".slide"), slide_header = document.querySelector(".slide_header"), slide_img = document.querySelector(".slide_img"), slidesContent = document.querySelectorAll(".slide_img"); let slideN = 0; function go_left() { if (--slideN < 0 && (slideN = slidesContent.length - 1), window.innerWidth >= 1250) { let e = window.innerWidth - 17; slides_container.style.transform = `translate(-${e * slideN}px)` } else slides_container.style.transform = `translate(-${window.innerWidth * slideN}px)` } function go_right() { if (++slideN > slidesContent.length - 1 && (slideN = 0), window.innerWidth >= 1250) { let e = window.innerWidth - 17; slides_container.style.transform = `translate(-${e * slideN}px)` } else slides_container.style.transform = `translate(-${window.innerWidth * slideN}px)` } chevron_left.addEventListener("click", go_left), chevron_right.addEventListener("click", go_right); let slideInterval, initialCoordsX = 0, finalCoordsX = 0, initialCoordsY = 0, finalCoordsY = 0; function autoSlide() { go_right() } document.addEventListener("touchstart", function (e) { clearInterval(slideInterval), document.querySelectorAll(".slide_header_txt").forEach((t, n, o) => { t.innerText = "Y:" + Math.floor(e.touches[0].clientY) + " X:" + Math.floor(e.touches[0].clientX) }), e.target.classList.contains("swipe") && (e.stopPropagation(), initialCoordsX = e.touches[0].clientX, initialCoordsY = e.touches[0].clientY) }), document.addEventListener("touchmove", function (e) { document.querySelectorAll(".slide_header_txt").forEach((t, n, o) => { t.innerText = "Y:" + Math.floor(e.touches[0].clientY) + " X:" + Math.floor(e.touches[0].clientX) }), e.target.classList.contains("swipe") && (e.stopPropagation(), finalCoordsX = e.touches[0].clientX, finalCoordsY = e.touches[0].clientY) }), document.addEventListener("touchend", function (e) { finalCoordsX < initialCoordsX - 30 && finalCoordsY > initialCoordsY - 30 && go_right(), finalCoordsX > initialCoordsX + 30 && finalCoordsY < initialCoordsY + 30 && go_left() }), document.body.addEventListener("touchmove", function (e) { }, !1), window.addEventListener("click", () => { clearInterval(slideInterval) }), window.addEventListener("load", () => { }), slideInterval = setInterval(autoSlide, 3600); const fc_refID = document.getElementById("fc_refID"), fc_refURL = document.getElementById("fc_refURL"); function getCookie(e) { var t = document.cookie.match(RegExp("(?:^|;\\s*)" + e.replace(/([.*+?\^$(){}|\[\]\/\\])/g, "\\$1") + "=([^;]*)")); return t ? t[1] : null } fc_refID.value = getCookie("refid"), fc_refURL.value = getCookie("refurl"), window.addEventListener("load", function () { "#contacto" === window.location.hash && document.getElementById("contacto").scrollIntoView(), "Tu solicitud fue enviada" === document.querySelector(".forma_msj").innerText && document.getElementById("contacto").scrollIntoView() });
</script>

<!-- <link rel="stylesheet" href="../css/galeria.css"> -->
<style>
   .slides_container{
      grid-template-columns: repeat(<%=data.length %>, 100%);
   }

.confirmacion {
    display: grid;
    background-color: var(--Primary);
    grid-column-start: 2;
    height: 80%;
    max-width: 800px;
    width: 100%;
    max-width: 600px;
    justify-content: center;
    text-align: center;
    padding: 5%;
    box-sizing: border-box;
}
.confirmar_logo{
   margin: 0 auto;
}
#btn_confirmar{
   width: 100%;
    background-color: var(--Secondary);
    color: #fff;
    text-transform: uppercase;
    border: 1px solid var(--Secondary);
    cursor: pointer;
}

.blackBox {
    display: grid;
    justify-items: center;
    align-items: center;
    width: 100%;
    height: 100%;
    position: fixed;
    background-color: rgba(0, 0, 0, .6);
    top: 0;
    left: 0;
    grid-template-columns: 26px 1fr 26px;
    grid-template-rows: 1fr 30px;
    z-index: 51;
}
.gallery_close {
    grid-column: span 3;
    width: 25px;
    height: 25px;
    z-index: 22;
    cursor: pointer;
}
@media screen and (min-width: 600px){
   .blackBox {
      grid-template-columns: 150px 1fr 150px;
      grid-template-rows: 1fr 143px;
      z-index: 51;
      padding-top: 43px;
   }
   .gallery_close {
      width: 50px;
      height: 50px;
      position: absolute;
      top: 5%;
      right: 5%;
      z-index: 52;
   } 
}
</style>

<%- include('template-parts/scripts') %>

   <script>
      const gallery_close = document.querySelector('.gallery_close');
      const blackBox = document.querySelector('.blackBox');
      gallery_close.addEventListener('click', function (e) {
         e.preventDefault();
         blackBox.classList.add('display_none');
      });
      /*
      const confirmacion_refID = document.getElementById('confirmacion_refID');
      confirmacion_refID.value = getCookieConfirm('refid');
               const btn_confirmar = document.querySelector('#btn_confirmar');

               btn_confirmar.addEventListener('click', function (e) {
                  e.preventDefault();
                  blackBox.classList.add('display_none');
               });
         
            const confirmacion_ref = getCookieConfirm('refid');
            const confirmado = localStorage.getItem('confirmado21ago');
            console.log(confirmado);
            if (confirmacion_ref === 'qwer' && confirmado == null) {
               blackBox.classList.remove('display_none');
               localStorage.setItem('confirmado21ago', 'true');
            }

            // console.log(confirmacion_ref);

           function getCookieConfirm(name) {
               function escape(s) { return s.replace(/([.*+?\^$(){}|\[\]\/\\])/g, '\\$1'); }
               var match = document.cookie.match(RegExp('(?:^|;\\s*)' + escape(name) + '=([^;]*)'));
               return match ? match[1] : null;
            }


            // confirmar asistencia
            const mail_confirmado = document.getElementById('mail_confirmado');
            btn_confirmar.addEventListener('click', function (e) {
               e.preventDefault();
                  var myHeaders = new Headers();
               myHeaders.append("Content-Type", "application/json");

               var raw = JSON.stringify({
                  "refCode": confirmacion_refID.value,
                  "correo_confirmacion": mail_confirmado.value
               });

               var requestOptions = {
                  method: 'POST',
                  headers: myHeaders,
                  body: raw,
                  redirect: 'follow'
               };

               fetch("/api/v1/referals/confirmacion", requestOptions)
                  .then(response => response.text())
                  .then(result => console.log(result))
                  .catch(error => console.log('error', error));
            });

            document.onreadystatechange = function () {
                  if (document.readyState == "complete") {
                     document.querySelector('video').setAttribute('src', '../media/slider-inicio/video.mp4');
                  }
               }
        */    
   </script>


<!-- end for each -->